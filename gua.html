<html>
<head>
<meta charset="gbk"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />
<title>帅哥刮刮卡</title>
<style>
*{margin:0;padding:0;list-style:none;}
</style>
<script src="http://style.c.aliimg.com/m/lofty/gallery/jquery/jquery-latest.js"></script>
</head>
<body>
<div style="position:relative;width:100%;height:100%;
background:url(http://hdn.xnimg.cn/photos/hdn121/20121229/2315/h_large_u9nk_2b8700001cfc1376.jpg)0 0 no-repeat;
background-size:100% 100%;">
<canvas id="canvas"></canvas>
</div>
<script>
try {
			document.createElement('canvas').getContext('2d');
		} catch (e) {
			alert('您的手机不支持刮刮卡效果哦~!');
}
 var canvas=document.getElementById('canvas'),context=canvas.getContext('2d');
 var w=parseInt($('div').eq(0).css('width')),h=parseInt($('div').eq(0).css('height')),num=0;
 canvas.width=w;
	canvas.height=h;
 context.fillStyle="grey";
 context.strokeStyle="#c0c0c0";
 context.lineWidth="30";
 context.lineCap = "round";
 context.beginPath();
// context.arc(100,100,50,0,Math.PI*2,0);
 context.fillRect(0,0,w,h);
 context.fill();
 context.stroke();
 context.closePath();
 context.restore();
 context.save();
 $('#canvas').on('touchmove',function(e){ 
	
	e.preventDefault();
	context.globalCompositeOperation = "destination-out";
	 context.beginPath();
	context.strokeStyle = "rgba(250,250,250,1)";//使用颜色值为白色，透明为0的颜色填充
		context.fillStyle = "rgba(250,250,250,1)";
		context.arc(event.targetTouches[0].pageX,event.targetTouches[0].pageY,25,0,Math.PI*2,0);

		 context.fill();

 })
</script>
</body>
</html>